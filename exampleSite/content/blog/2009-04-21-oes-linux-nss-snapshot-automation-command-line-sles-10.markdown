---
title: OES Linux NSS Snapshot Automation Command Line SLES 10
image: images/74.jpg
date: 2009-04-21 03:36:00.000000000 -06:00
---
<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://4.bp.blogspot.com/_kYEysMxY62I/ScwLSYKM39I/AAAAAAAADFY/YmyvnYDDHcY/s1600-h/avatar2.jpg"><img style="display:block; margin:0px auto 10px; text-align:center;cursor:pointer; cursor:hand;width: 100px; height: 100px;" src="http://4.bp.blogspot.com/_kYEysMxY62I/ScwLSYKM39I/AAAAAAAADFY/YmyvnYDDHcY/s200/avatar2.jpg" border="0" alt=""id="BLOGGER_PHOTO_ID_5317637670368501714" /></a><br /><br />In the traditional NetWare kernel, we were used to running automated snapshots to utilize as a business continuity feature.  We have been migrating over to OES Linux, and wanted to do the same thing.  The problem is that there is no 'supported' way to automate this, and you are left to do things manually via iManager.<br /><br />After doing some research, I found that it is possible to do via perl scripts using Virtual File Services.  I found several Cool Solutions that address this problem posted by Dean Giles.<br /><a href=" http://www.novell.com/coolsolutions/author/3406.html"><br />http://www.novell.com/coolsolutions/author/3406.html</a><br /><br />You can add, remove, activate, and deactivate pool snapshots utilizing the perl scripts listed there.  He gives examples with each script, so it is pretty straightforward.  The issue I had is with the 'FREE_SPACE_DRIVE_ID' variable, since we are running a RAID array. <br /><br />Here is an example of the command I used:<br /><br /><blockquote>perl linuxAddPoolSnapshot.pl /dev/evms/DPOOL1 cciss/c0d0 15000 snappy01</blockquote><br /><br /><a href="http://www.novell.com/documentation/oes2/stor_nss_lx_nw/data/bu5ei2e.html">To mount an NSS volume from a terminal command line, enter:</a><br /><br /><blockquote>mount -t nssvol volname mount_point -o name=volname,ns=long</blockquote><br /><br /><br />Now I am in the process of automating this with a script and a cron job.
